---
creationDate: "2025-03-13 08:14"
tags:
---
# Meetings
## Meeting-specific
```tasks
(done on 2024-10-11) OR ((no cancelled date) AND (no done date) AND (scheduled on 2024-10-11)) OR (cancelled on 2024-10-11)
path includes Meetings
heading regex matches /^Meeting-specific$/
hide postpone button
sort by filename
sort by function task.lineNumber
group by filename
show tree
```
# Tasks
## To-Do
### Priority tasks
```tasks
(done on 2024-10-11) OR ((no cancelled date) AND (no done date) AND (scheduled on 2024-10-11)) OR (cancelled on 2024-10-11)
priority is not none
hide postpone button
sort by priority
sort by filename
sort by function task.lineNumber
show tree
```
### General
```tasks
(done on 2024-10-11) OR ((no cancelled date) AND (no done date) AND (scheduled on 2024-10-11)) OR (cancelled on 2024-10-11)
path includes Tasks/Specific
heading regex matches /^General$/
hide postpone button
sort by filename
sort by function task.lineNumber
group by filename
show tree
```
### Task-specific
```tasks
(done on 2024-10-11) OR ((no cancelled date) AND (no done date) AND (scheduled on 2024-10-11)) OR (cancelled on 2024-10-11)
path includes Tasks/Specific
heading regex matches /^Task-specific$/
hide postpone button
sort by filename
sort by function task.lineNumber
group by filename
show tree
```
### Uncategorized
```tasks
(done on 2024-10-11) OR ((no cancelled date) AND (no done date) AND (scheduled on 2024-10-11)) OR (cancelled on 2024-10-11)
path includes Tasks/Uncategorized
heading regex matches /^To-Do$/
hide postpone button
sort by filename
sort by function task.lineNumber
group by filename
show tree
```
# Summary
```dataviewjs
const fileDate = '2024-10-11';
const fileDateTime = DateTime.fromISO(fileDate);

const taskGroupSettings = [
	{
		path: '"Meetings"',
		subPaths: ['Meeting-specific'],
		label: 'Meetings',
		checkCompletionDate: true,
		usePath: true,
	},
	{
		path: '"Tasks/Specific"',
		subPaths: ['General', 'Task-specific'],
		label: 'Development',
		checkCompletionDate: true,
		usePath: true,
	},
	{
		path: '"Absence"',
		subPaths: ['General holiday', 'Vacation', 'Sick leave'],
		label: 'Absence',
		checkCompletionDate: false,
		usePath: false,
	},
];

function getTaskGroups(groupSettings) {
	const taskGroups = [];
	for (const settings of groupSettings) {
		var rawTaskPaths = dv
			.pages(settings.path)
			.file.tasks.where((task) => settings.subPaths.includes(task.header.subpath) && task.fullyCompleted && (settings.checkCompletionDate ? task.completion.ts : task.scheduled?.ts) === fileDateTime.ts)
			.values.map((task) => (settings.usePath ? task.path : task.header.subpath));
		var tasks = Array.from(new Set(rawTaskPaths)).map((path) => path.substring(path.lastIndexOf('/') + 1).replace('.md', ''));
		if (tasks.length !== 0) {
			taskGroups.push({
				title: settings.label,
				tasks: tasks.sort((a, b) => a.localeCompare(b, 'en', { numeric: true })),
			});
		}
	}

	return taskGroups;
}

function getCodeBlockElement(content) {
	const codeBlockElement = document.createElement('div');
	codeBlockElement.innerHTML = `<div><pre><code>${content}</code></pre></div>`;
	return codeBlockElement;
}

function getContentHtmlString(taskGroups) {
	const crlf = '&#x0d;&#x0a;'; // Carriage Return + Line Feed
	const htmlElements = [];

	taskGroups.forEach(function (group, groupIndex, groupArray) {
		const isLastGroup = groupIndex === groupArray.length - 1;
		htmlElements.push(`${group.title}:`, crlf);
		group.tasks.forEach(function (task, itemIndex, itemArray) {
			const isLastItem = itemIndex === itemArray.length - 1;
			htmlElements.push(`- ${task}`);
			if (!isLastGroup || !isLastItem) {
				htmlElements.push(crlf);
			}
		});
		if (!isLastGroup) {
			htmlElements.push(crlf);
		}
	});

	return htmlElements.join('');
}

const taskGroups = getTaskGroups(taskGroupSettings);
const content = getContentHtmlString(taskGroups);
this.container.appendChild(getCodeBlockElement(content));
```